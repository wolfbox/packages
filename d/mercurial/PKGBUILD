pkgname=mercurial
pkgver=3.1.2
pkgrel=1
pkgdesc="A free and fast distributed version control system."
arch=('x86_64')
url="http://mercurial.selenic.com"
license=('GPLv2')

backup=('etc/mercurial/hgrc')
depends=('python>=2.4')

source=(http://mercurial.selenic.com/release/mercurial-${pkgver}.tar.gz)
sha256sums=(5dbe5ceb3707e378528dc9346af280919760aa1a8bcc27be12c1fe2bafa78d3a)

package() {
	cd "${srcdir}/${pkgname}-${pkgver}"

	python2 setup.py build install --root="${pkgdir}" --optimize=1

	mkdir -p "${pkgdir}"/etc/mercurial/
	install -m644 contrib/sample.hgrc "${pkgdir}"/etc/mercurial/hgrc
}
